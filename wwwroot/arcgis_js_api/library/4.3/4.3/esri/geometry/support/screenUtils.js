// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define("dojo/_base/array ../Point ../ScreenPoint ../Polyline ../Polygon ../Multipoint ../Extent ./webMercatorUtils".split(" "),function(z,p,C,u,v,w,x,A){return{toScreenPoint:function(b,m,k,a,h){var d=b.spatialReference,e=a.spatialReference,c=a.x;a=a.y;d&&e&&!d.equals(e)&&A.canProject(d,e)&&(d=d.isWebMercator?p.lngLatToXY(c,a):p.xyToLngLat(c,a,!0),c=d[0],a=d[1]);c=(c-b.xmin)*(m/b.getWidth());a=(b.ymax-a)*(k/b.getHeight());h||(c=Math.round(c),a=Math.round(a));return new C(c,a)},toScreenGeometry:function(b,
m,k,a){var h=b.xmin,d=b.ymax,e=m/b.getWidth(),c=k/b.getHeight(),g=z.forEach,f=Math.round;if(a instanceof p)return new p(f((a.x-h)*e),f((d-a.y)*c));if(a instanceof w){b=new w;var r=b.points;g(a.points,function(a,b){r[b]=[f((a[0]-h)*e),f((d-a[1])*c)]});return b}if(a instanceof x)return new x(f((a.xmin-h)*e),f((d-a.ymin)*c),f((a.xmax-h)*e),f((d-a.ymax)*e));if(a instanceof u){b=new u;var n=b.paths,q;g(a.paths,function(a,b){q=n[b]=[];g(a,function(a,b){q[b]=[f((a[0]-h)*e),f((d-a[1])*c)]})});return b}if(a instanceof
v){b=new v;var t=b.rings,l;g(a.rings,function(a,b){l=t[b]=[];g(a,function(a,b){l[b]=[f((a[0]-h)*e),f((d-a[1])*c)]})});return b}},_toScreenPath:function(b,m,k,a,h,d){var e=a instanceof u,c=b.spatialReference,g=a.spatialReference,f,r;c&&g&&!c.equals(g)&&A.canProject(c,g)&&(c.isWebMercator?f=p.lngLatToXY:(f=p.xyToLngLat,r=!0));c=b.xmin;g=b.ymax;m/=b.getWidth();b=k/b.getHeight();a=e?a.paths:a.rings;var e=[],n,q,t,l,y,B=Math.round;k=0;for(q=a?a.length:0;k<q;k++)for(l=a[k],e.push("M"),n=0,t=l?l.length:
0;n<t;n++)y=f?f(l[n][0],l[n][1],r):l[n],e.push(B((y[0]-c)*m+h)+","+B((g-y[1])*b+d));return e},toMapPoint:function(b,m,k,a){return new p(b.xmin+a.x/(m/b.width),b.ymax-a.y/(k/b.height),b.spatialReference)},toMapGeometry:function(b,m,k,a){var h=b.xmin,d=b.ymax,e=b.spatialReference,c=m/b.getWidth(),g=k/b.getHeight(),f=z.forEach;if(a instanceof p)return new p(h+a.x/c,d-a.y/g,e);if(a instanceof w){b=new w(e);var r=b.points;f(a.points,function(a,b){r[b]=[h+a[0]/c,d-a[1]/g]});return b}if(a instanceof x)return new x(h+
a.xmin/c,d-a.ymin/g,h+a.xmax/c,d-a.ymax/g,e);if(a instanceof u){b=new u(e);var n=b.paths,q;f(a.paths,function(a,b){q=n[b]=[];f(a,function(a,b){q[b]=[h+a[0]/c,d-a[1]/g]})});return b}if(a instanceof v){b=new v(e);var t=b.rings,l;f(a.rings,function(a,b){l=t[b]=[];f(a,function(a,b){l[b]=[h+a[0]/c,d-a[1]/g]})});return b}}}});