// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define(["./Widgette","./support/AnchorElementViewModel","dojo/i18n!./Spinner/nls/Spinner","dojo/dom-class","dojo/dom-style"],function(e,f,g,c,d){var b={base:"esri-spinner",visible:"esri-spinner--visible",spinnerStart:"esri-spinner--start",spinnerFinish:"esri-spinner--finish"};return e.createSubclass({properties:{viewModel:{type:f}},declaredClass:"esri.widgets.Spinner",baseClass:b.base,postCreate:function(){this.inherited(arguments);this.own(this.viewModel.watch("point",function(a){this._setDomClasses(a)}.bind(this)),
this.viewModel.watch("screenPoint",function(a){this._positionDomNode(a)}.bind(this)))},destroy:function(){this._clearTimeout()},_css:b,_i18n:g,animationDelay:500,visible:!0,_setVisibleAttr:function(a){this._set("visible",a);this._visibleChange()},_clearTimeout:function(){this._resetTimeout&&clearTimeout(this._resetTimeout)},_setDomClasses:function(a){this.visible&&a?(c.remove(this.domNode,b.spinnerStart),c.remove(this.domNode,b.spinnerFinish),this.domNode.offsetWidth=this.domNode.offsetWidth,c.add(this.domNode,
b.spinnerStart)):this.visible&&!a?c.add(this.domNode,b.spinnerFinish):(c.remove(this.domNode,b.spinnerStart),c.remove(this.domNode,b.spinnerFinish))},_positionDomNode:function(a){a?d.set(this.domNode,{left:a.x+"px",top:a.y+"px"}):(this._clearTimeout(),this._resetTimeout=setTimeout(function(){d.set(this.domNode,{left:"",top:""});this._resetTimeout=0}.bind(this),this.animationDelay))},_visibleChange:function(){c.toggle(this.domNode,b.visible,this.visible)}})});