// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define("../Navigation ./ConstraintsPlanar ./AnimationPlanar ./actions/PanPlanar ./actions/RotatePlanar ./actions/ZoomPlanar ../../webgl-engine/lib/Camera ../../lib/glMatrix".split(" "),function(k,l,m,n,p,q,r,t){var a=t.vec3d,f=a.create(),g=a.create(),h=a.create(),c=a.create();return k.createSubclass([l,m],{declaredClass:"esri.views.3d.navigation.planar.NavigationPlanar",initialize:function(){this.pan=new n({navigation:this});this.zoom=new q({navigation:this});this.rotate=new p({navigation:this})},
getInitialCamera:function(){return new r(a.createFrom(0,0,100),a.createFrom(0,0,0),a.createFrom(0,1,0))},fixTargetUpVector:function(){var b=this.renderCoordsHelper.worldUp,d=this.cameras.target;a.direction(d.center,d.eye,c);var e=a.dot(c,b);.9999>=Math.abs(e)&&(a.scale(c,e,c),a.subtract(b,c,d.up),a.normalize(d.up))},setPoiAuto:function(b,d){b=this.picker.pickAlongRay(this.cameras.target.eye,this.cameras.target.center,null,b);if(b.getMinResult().getIntersectionPoint(f)&&b.getMaxResult().getIntersectionPoint(g)){var e=
5/this.renderUnitInMeters;d=b.getMinResult().dist-e;var e=b.getMaxResult().dist+e,c=a.dist(this.cameras.target.eye,this.cameras.target.center);if(c<=d||c>=e){if(b.getMinResult().object){b.getMaxResult().dist=void 0;b.intersectObject(b.getMinResult().object);if(void 0===b.getMaxResult().dist){console.error("[NavigationPlanar.setPoiAuto] Did not obtain maximum intersection distance");return}b.getMaxResult().getIntersectionPoint(g);a.lerp(f,g,.5,h)}else a.set(f,h);this.setCameraFromEyeAndCenter(this.cameras.target.eye,
h,{animate:!1})}}}})});