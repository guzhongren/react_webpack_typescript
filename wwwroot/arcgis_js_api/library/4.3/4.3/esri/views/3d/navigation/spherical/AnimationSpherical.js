// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define(["../mixins/AnimationMixin","../../lib/glMatrix","../../support/mathUtils"],function(k,g,e){function u(b,a){var d=a[0]-b[0],c=a[1]-b[1],e=a[2]-b[2];b=a[3]-b[3];return d*d+c*c+e*e+b*b}function v(b,a){return Math.sqrt(u(b,a))}function w(b){this.interpolate=function(a,d,c){c=Math.min(9*c,.3);e.slerpOrLerp(a.center,d.center,c,a.center,1E-4);e.slerpOrLerp(a.eye,d.eye,c,a.eye,1E-4);e.slerp(a.up,d.up,c);a.fov=e.lerp(a.fov,d.fov,c);a.padding=l.lerp(a.padding,d.padding,c,n);a.computeUpOnSphere()}}function x(b,
a,d){a=a||250;d=d||a;var c=0,g=0,p=0,q=0,k=function(h,c,e,f,y){return b.easeInOutInterpLinear(d,a,h,c,e,f,y)},m=function(c,b,r,f){var h=t.dist(c,b);if(.1>h)return t.set(b,c),0;f=Math.min(f+d*r,Math.min(Math.sqrt(h*d),a));e.slerpOrLerp(c,b,Math.min(f/h*r,1),c,1E-4);return f};this.interpolate=function(a,b,d){c=m(a.eye,b.eye,d,c);g=m(a.center,b.center,d,g);q=m(a.padding,b.padding,d,q,{dist:v,lerp:function(a,b,c){return l.lerp(a,b,c,n)},set:function(b){a.padding=b}});p=k(a.fov,b.fov,d,p,{dist:function(a,
b){return Math.abs(b-a)},lerp:e.lerp,set:function(b){a.fov=b}});a.computeUpOnSphere()}}var t=g.vec3d,l=g.vec4d,n=l.create();return k.createSubclass({declaredClass:"esri.views.3d.navigation.spherical.AnimationSpherical",constructor:function(){this.interpolationTypes={linear:w,easeInOut:x}}})});