// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../Color","../GeometryUtils"],function(n,p,m,k){return function(){function f(a,d){switch(a.type){case "number":a=!0;break;case "color":a=!0;d=f._parseColor(d);break;case "array":a="number"===a.value;break;default:a=!1}this.getValue=a?this._interpolate(d):this._piecewise(d)}f.prototype._piecewise=function(a){var d=a.stops;return d?function(a){var l=d.length;if(0!==l){for(var b=0,c=0;c<l;c++)if(d[c][0]<=a)b=c;else break;return d[b][1]}}:function(){return a}};f.prototype._interpolate=
function(a){var d=a.stops;if(d){var f=a.base||1;return function(a){for(var b,c,g=d.length,e=0;e<g;e++){var h=d[e];if(h[0]<=a)b=h;else{c=h;break}}if(b&&c){e=c[0]-b[0];a-=b[0];a=1===f?a/e:(Math.pow(f,a)-1)/(Math.pow(f,e)-1);if(Array.isArray(b[1])){b=b[1];c=c[1];g=[];for(e=0;e<b.length;e++)g.push(k.interpolate(b[e],c[e],a));return g}return k.interpolate(b[1],c[1],a)}if(b)return b[1];if(c)return c[1]}}return function(){return a}};f._parseColor=function(a){if(Array.isArray(a))return a;if("string"===typeof a)return a=
new m(a),[a.r/255,a.g/255,a.b/255,a.a||1];if(a&&a.stops)return a.stops=a.stops.map(function(a){return[a[0],f._parseColor(a[1])]}),a;throw Error("Incorrect color definition "+a);};return f}()});